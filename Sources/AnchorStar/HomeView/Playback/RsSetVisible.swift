
import UIKit
import Taleo_General
import AgoraRtcKit

class RsSetVisible: UICollectionViewCell {

    @IBOutlet weak var sSetNation: UIImageView!
    @IBOutlet weak var qDotType: UILabel!
    @IBOutlet weak var eSmallerAxis: UIView!

    @IBOutlet weak var hAndroidExt: UIButton!
    @IBOutlet weak var qFrozenRealm: UILabel!
    @IBOutlet weak var pToothWidth: UIView!

    @IBOutlet weak var dHoldtimeMs: UIImageView!
        
    @IBOutlet weak var fStickerItem: UIView!
        
    @IBOutlet weak var aAttitudesCount: UIImageView!
        
    @IBOutlet weak var gGroupInvite: UILabel!
        
    var tIdentifierValue = ""
        
        
    override func prepareForReuse() {
        super.prepareForReuse()
        tIdentifierValue = ""
        sSetNation.sd_cancelCurrentImageLoad()
        sSetNation.image = nil
    }
        
        
    var kSendJavascript : RsArticle! {
        didSet {
            if tIdentifierValue != kSendJavascript.tIdentifierValue {
                tIdentifierValue = kSendJavascript.tIdentifierValue!
            }
            sSetNation.makeHandshakeAndOpenConnection(tIdentifierValue)
            qDotType.text = kSendJavascript.jImageTransformer
            hAndroidExt.setTitle("\(kSendJavascript.oWeakObserver)", for: .normal)
            qFrozenRealm.text = kSendJavascript.oUpdateExtensions
            hAndroidExt.backgroundColor = .clear
            hAndroidExt.layer.cornerRadius = 0
            hAndroidExt.wRefreshFeed = kSendJavascript.aScreenW == 2 ? "dashoffset_screwdriver_craft" : "sendto_kenar_oven"
            hAndroidExt.aEnabledNumber = kSendJavascript.aScreenW == 2 ? "esti_otrd_confusables" : "accessibles_mycfg"
            
            if kSendJavascript.pFailCall == 1 {
                eSmallerAxis.backgroundColor = GettingColors("45E02C")
            }else if kSendJavascript.pFailCall == 2 {
                eSmallerAxis.backgroundColor = GettingColors("EB2679")
            }else {
                eSmallerAxis.backgroundColor = GettingColors("C4C3C4")
            }
            if kSendJavascript.mPcyHeight == true {
                pToothWidth.isHidden = true
                              

            }else {
                pToothWidth.isHidden = true
            }
                        
            fStickerItem.isHidden = true
            if kSendJavascript.bContentsSize > 0 {
            }else if kSendJavascript.zSubDouble?.count ?? 0 > 0 {
                fStickerItem.isHidden = false
                aAttitudesCount.wRefreshFeed = "fencer_expander"
                gGroupInvite.text = "Party"
                gGroupInvite.textColor = GettingColors("FF45A6")
                fStickerItem.backgroundColor = GettingColors("FFD6EC")
            }
                        
        }
    }
        
    func calculateCombinedRestitution () {
    }
        
    override func awakeFromNib() {
        super.awakeFromNib()
        calculateCombinedRestitution ()
    }
        
    @IBAction func tokenEndPosition(_ sender: UIButton) {
                
        sender.isUserInteractionEnabled = false
        DispatchQueue.main.asyncAfter(deadline: .now() + 1.8){
            sender.isUserInteractionEnabled = true
        }
        if eProcessingSnapshot == false {
            eProcessingSnapshot = true
                        
            editingAccessoryType(String(format: "%d", self.kSendJavascript.gInsertUpdate), roundPriceChange("laguna_ymin"), 0) {
                                
            }
        }
      }
}

@MainActor func editingAccessoryType(_ uid : String, _ from : String, _ fromID : Int, hThrowMarker:@escaping ()->Void) {
    HeOrgRemoveOutsideCollaboratorAuditEntry.highValueLabel {
        if isConflict == true {
            HeLoadPaletted.pulCounterOutputVideo()
            let vTokenizeString = NSMutableDictionary()
            vTokenizeString[nPpSnapshot] = Int(uid)
            vTokenizeString[oNonactivatingPanel] = 1
            vTokenizeString[hOriginalContent] = true
            vTokenizeString[oCookieList] = from
            if fromID > 0{
                vTokenizeString[pCodedThrowable] = fromID
            }
            iSuppressAnimations.editingAccessoryType(vTokenizeString) { dics in
                HeLoadPaletted.upLoadModel()
                RsNodeStuffPlugin.orderFrontColorPanel()
                evaArrowDownwardOutline(dics) {
                    hThrowMarker()
                } fail: {
                    eProcessingSnapshot = false
                }
            } _: { string in
                isConflict = false
                eProcessingSnapshot = false
                HeLoadPaletted.setOnGenericMotionListener(string)
            }

            
            return
        } else {
            let dInitialRamdisk = UserDefaults.standard.object(forKey: "indention_benmorss" + HeExecuteDelete.iRemindersB.gInsertUpdate)
            if dInitialRamdisk == nil {
                if zExtendedObject || aCaptureRecognizer {
                    UserDefaults.standard.set("UserDefaults", forKey: "indention_benmorss" + HeExecuteDelete.iRemindersB.gInsertUpdate)
                    
                    let zTextStorage = wBackgroundQueue.logTitleBar()
                    hMacPlatform.addSubview(zTextStorage)
                    zTextStorage.eSetName = {[weak selfs] in
                        guard let self = selfs else { return }
                        HeLoadPaletted.pulCounterOutputVideo()
                        let vTokenizeString = NSMutableDictionary()
                        vTokenizeString[nPpSnapshot] = Int(uid)
                        vTokenizeString[oNonactivatingPanel] = 1
                        vTokenizeString[hOriginalContent] = true
                        vTokenizeString[oCookieList] = from
                        if fromID > 0{
                            vTokenizeString[pCodedThrowable] = fromID
                        }
                        iSuppressAnimations.editingAccessoryType(vTokenizeString) { dics in
                            HeLoadPaletted.upLoadModel()
                            RsNodeStuffPlugin.orderFrontColorPanel()
                            evaArrowDownwardOutline(dics) {
                                hThrowMarker()
                            } fail: {
                                eProcessingSnapshot = false
                            }
                        } _: { string in
                            eProcessingSnapshot = false
                            HeLoadPaletted.setOnGenericMotionListener(string)
                        }
                    }
                } else {
                    
                    HeLoadPaletted.pulCounterOutputVideo()
                    let vTokenizeString = NSMutableDictionary()
                    vTokenizeString[nPpSnapshot] = Int(uid)
                    vTokenizeString[oNonactivatingPanel] = 1
                    vTokenizeString[hOriginalContent] = true
                    vTokenizeString[oCookieList] = from
                    if fromID > 0{
                        vTokenizeString[pCodedThrowable] = fromID
                    }
                    iSuppressAnimations.editingAccessoryType(vTokenizeString) { dics in
                        HeLoadPaletted.upLoadModel()
                        RsNodeStuffPlugin.orderFrontColorPanel()
                        evaArrowDownwardOutline(dics) {
                            hThrowMarker()
                        } fail: {
                            eProcessingSnapshot = false
                        }
                    } _: { string in
                        eProcessingSnapshot = false
                        HeLoadPaletted.setOnGenericMotionListener(string)
                    }
                }
            }else {
                HeLoadPaletted.pulCounterOutputVideo()
                let vTokenizeString = NSMutableDictionary()
                vTokenizeString[nPpSnapshot] = Int(uid)
                vTokenizeString[oNonactivatingPanel] = 1
                vTokenizeString[hOriginalContent] = true
                vTokenizeString[oCookieList] = from
                if fromID > 0{
                    vTokenizeString[pCodedThrowable] = fromID
                }
                iSuppressAnimations.editingAccessoryType(vTokenizeString) { dics in
                    HeLoadPaletted.upLoadModel()
                    RsNodeStuffPlugin.orderFrontColorPanel()
                    evaArrowDownwardOutline(dics) {
                        hThrowMarker()
                    } fail: {
                        eProcessingSnapshot = false
                    }
                } _: { string in
                    eProcessingSnapshot = false
                    HeLoadPaletted.setOnGenericMotionListener(string)
                }
            }
        }
    } fail: {}
        
}

@MainActor func evaArrowDownwardOutline(_ dic : NSDictionary, _ hThrowMarker:@escaping ()->Void, fail:@escaping ()->Void) {
    HeFontConfiguration.getAxisTop { types in
        if types == 0 {
            isConflict = false
            let iFindCalendars = UoAccessAllowed()
            iFindCalendars.xTokenStart = RsNotValidForUsage(dic)
            eProcessingSnapshot = false
                        
            selfs.navigationController?.pushViewController(iFindCalendars, animated: true)
            hThrowMarker()
        }
    }
}
private var selfs: UIViewController {
    let Controller = hMacPlatform?.rootViewController
    return isRecordJsonPath(Controller!)
}
private func isRecordJsonPath(_ uReuseOn:UIViewController) -> UIViewController{
    var mHelped:UIViewController
    var VC = uReuseOn
    if(VC.presentedViewController != nil) {
        VC = uReuseOn.presentedViewController!
    }
    if uReuseOn.isKind(of:UITabBarController.classForCoder()) {
        mHelped = isRecordJsonPath((uReuseOn as! UITabBarController).selectedViewController!)
    }else if uReuseOn.isKind(of:UINavigationController.classForCoder()){
        mHelped = isRecordJsonPath((uReuseOn as! UINavigationController).visibleViewController!)
    }else{
        mHelped = VC
    }
    return mHelped
}
extension UIButton {
    func debounceTap(delay: TimeInterval, closure: @escaping () -> Void) {
        self.isEnabled = false
        DispatchQueue.main.asyncAfter(deadline: .now() + delay) { [weak self] in
            self?.isEnabled = true
        }
        closure() 
    }
}
